<!DOCTYPE html> 
<html> 
<!-- The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only.  Any user of this code does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.
 
THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.
 
 
Authors in chronological order of contribution:
Tim Riedel 
Bunsri Patel 
 
Further Information:
http://diystream.cns.utexas.edu/

Research Educator:
Timothy Riedel
triedel@utexas.edu
 
Brief Description of Goal of Code:
To help the user insert their symptoms and determine the liklihood of having allergies, a cold, the flu, or COVID-19. This is to help Bunsri Patel practice her coding skills.
 
Known Issues:
Rounding the results values to the nearest whole number. Inserting the pie chart on the results page. 
-->
	
<!-- changed the title from Hello World to "Allergies, Cold, Flu, or COVID-19" !-->
   <head> 
      
	    <title>Allergies,Cold, Flu, or COVID-19</title>  
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <link rel="stylesheet" href="w3.css">
      <link rel="stylesheet" href="w3-colors-flat.css">
   </head> 

<!-- updated the description of Goal of Code !-->
<!-- Created a Copy of the App 4 repository and renamed it App 7 !-->
<!-- Added two more Var functions below: one for flu count and one for covid count and set them both to 0 !-->
	
        var allergy_count = 0;
        var cold_count = 0;
	var flu_count = 0; 
	var covid_count = 0;

<!-- Added functions that add to the initial counts for answer choices that are linked to multiple diagnoses !-->	
<!-- function to count for cold, flu, and covid !-->
<!-- I set each of these values to add 0.33 points to each count because one answer could lead to any of these three diagnoses !-->
	function coldflucovidAdd() {
		cold_count = cold_count + 0.33; 
		flu_count = flu_count + 0.33;
		covid_count = covid_count + 0.33;
	}
<!-- function to count for cold, allergy, and covid !-->
<!-- I set each of these values to add 0.33 points to each count because one answer could lead to any of these three diagnoses !-->
	function allergycoldcovidAdd() {
		cold_count = cold_count + 0.33; 
		allergy_count = allergy_count + 0.33;
		covid_count = covid_count + 0.33;
	}
<!-- function to count for cold, flu, and allergy !-->
<!-- I set each of these values to add 0.33 points to each count because one answer could lead to any of these three diagnoses !-->	
	function coldfluallergyAdd() {
		cold_count = cold_count + 0.33; 
		flu_count = flu_count + 0.33;
		allergy_count = allergy_count + 0.33;
	}
<!-- function to count for flu, allergy, and covid !-->
<!-- I set each of these values to add 0.33 points to each count because one answer could lead to any of these three diagnoses !-->	
	function allergyflucovidAdd() { 
		flu_count = flu_count + 0.33;
		covid_count = covid_count + 0.33;
		allergy_count = allergy_count + 0.33;
	}
<!-- function to count for cold and allergy!-->
<!-- I set each of these values to add 0.5 points to each count because one answer could lead to either of these two diagnoses !-->	
	function allergycoldAdd() { 
		allergy_count = allergy_court + 0.5;
		cold_count = cold_count + 0.5;
	}
<!-- function to count for covid and allergy!-->
<!-- I set each of these values to add 0.5 points to each count because one answer could lead to either of these two diagnoses !-->		
	function allergycovidAdd() { 
		allergy_count = allergy_count + 0.5;
		covid_count = covid_count + 0.5;
	}
<!-- function to count for covid and cold!-->
<!-- I set each of these values to add 0.5 points to each count because one answer could lead to either of these two diagnoses !-->			
	function coldcovidAdd() { 
		covid_count = covid_count + 0.5;
		cold_count = cold_count + 0.5;
	}
<!-- function to count for covid and flu!-->
<!-- I set each of these values to add 0.5 points to each count because one answer could lead to either of these two diagnoses !-->			
	function flucovidAdd() { 
		flu_count = flu_count + 0.5;
		covid_count = covid_count + 0.5;
	}
<!-- function to count for cold and flu!-->
<!-- I set each of these values to add 0.5 points to each count because one answer could lead to either of these two diagnoses !-->			
	function coldfluAdd() { 
		cold_count = cold_count + 0.5;
		flu_count = flu_count + 0.5;
	}
	
        function allergyAdd(){
            allergy_count = allergy_count + 1;
        }

        function coldAdd(){
            cold_count = cold_count + 1;
        }
<!-- I copied the above function and created one for a covid count that added one point to the count if selected !-->
	
	 function covidAdd(){
            covid_count = covid_count + 1;
        }
<!-- I copied the above function and created one for a flu count that added one point to the count if selected !-->	
         function fluAdd(){
            flu_count = flu_count + 1;
        }
<!-- I added two more var functions to the setResults to calculate for the flu and covid percentatges!-->	
<!-- I set the calculations to divide the total counts by 11 since there are 11 questions in the survey !-->
<!-- In the output of the results, I added two more rows of text that output the percentages for covid and the flu. I did this by copying the existing code and modifying the text and line breaks !-->
 <!-- The results page was not displaying covid or flu results, so I had to compare this section to the App 4 code. I fixed some spacing and formatting issues and was able to display the results properly !-->
	function setResults(){
        	var resultText = document.getElementById("results");
        	var allergyPercent = allergy_count / 11.0 * 100;
        	var coldPercent = cold_count / 11.0 * 100;
		var fluPercent = flu_count / 11.0 * 100;
		var covidPercent = covid_count / 11.0 * 100;
        	resultText.innerHTML = "Probability it is Allergies = " + allergyPercent + "%<br> Probability it is a cold = " + coldPercent + "%<br> Probability it is the flu = " + fluPercent + "%<br> Probability it is COVID-19 = " + covidPercent + "%"; 
        }

  </script>
<!-- I deleted the style code (image dimensions etc.) for the image on the website. I also deleted the comments associated with it  !-->

<style>	
.body {
     margin: 0em;
}

.page {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: -100vw;
    overflow-y: auto;
    z-index: 0;
    background-color: hsl(0,0%,100%);
}

  .page:target {
    left: 0vw;
    z-index: 1;

}

</style>
<!-- I changed the title of the website to "Allergies, Cold, Flu, or COVID-19?" !-->
<!-- I changed the brief description of the website that was found under the title !-->
<!-- I deleted the part of the code that inserted the image onto the page because I no longer needed it.  !-->
<body>
<div id="header" class="w3-container w3-flat-carrot">
	<h1>Allergies, Cold, Flu, or COVID-19?</h1>
</div>
	
<div id="content" class="w3-container">
	<p>Are you feeling under the weather and want to determine what the cause is? Answer a few short questions to find out!</p>
	
	<a href="#one" class="w3-btn w3-grey w3-round"> Get Started </a>
	
	<p>The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at 		Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only. Any user of this code 			does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.</p>
 	
	<p>THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.</p>

	
<!-- changed the question to ask a question from the symptom chart that was provided !-->
<!-- Added more buttons based on the number of possible answers, and renamed the buttons to match the answers from the provided chart.  !-->
<!-- I assigned functions to the buttons that added the correct points to the diagnoses counts if they were clicked (these functions are listed above) !-->
<!-- committed changes and went to see the website, and everything was looking normal/ the buttons worked !-->
<div class="page" id="one">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 1</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>How long have you had symptoms?</p>    
		<a href="#two"  onclick="coldAdd();" class="w3-btn w3-black"> Less than 14 days</a>
       		<a href="#two"  onclick="fluAdd();" class="w3-btn w3-black">7-14 days</a>
	   	<a href="#two"  onclick="covidAdd();" class="w3-btn w3-black">7-25 days</a>
	<a href="#two"  onclick="allergyAdd();" class="w3-btn w3-black">Several weeks</a>

    </div>
</div>
<!-- followed the same steps as above for question two !-->
	
<div class="page" id="two">
	<div class="w3-container w3-flat-carrot">
		<h1>Question 2</h1>
	</div>
	
	<div id="content" class="w3-container">
		<p>Do you have a Cough? If so, how would you describe it?</p>    
		<a href="#three"  onclick="allergyAdd();" class="w3-btn w3-black"> No cough</a>
      		<a href="#three"  onclick="flucovidAdd();" class="w3-btn w3-black">severe, dry cough</a>
	<a href="#three"  onclick="coldAdd();" class="w3-btn w3-black">Mild cough</a>
	
<!-- followed the same steps as above for question three !-->
    </div>
</div>
<div class="page" id="three">
	<div id="header" class="w3-container w3-flat-carrot">

		<h1>Question 3</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Are you experiencing shortness of breath?</p>    
		<a href="#four"  onclick="covidAdd();" class="w3-btn w3-black"> Yes</a>
        <a href="#four"  onclick="coldfluallergyAdd();" class="w3-btn w3-black">No</a>
<!-- followed the same steps as above for question four !-->
<!-- modified the "herf=" code to take the user to page five rather than the results page as was orginally programmed. !-->
    </div>
</div>
<div class="page" id="four">


	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 4</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Are you sneezing?</p>    
		<a href="#five"  onclick="flucovidAdd();" class="w3-btn w3-black"> Yes</a>
        <a href="#five"  onclick="allergycoldAdd();" class="w3-btn w3-black">No</a>
<!-- Added divisions and 7 new pages to ask the remaining questions !-->
<!-- renamed all of the page IDs and changed all of the page titles to display the appropriate question number !-->
<!-- folllowed the steps above for question five. !-->	    
    </div>
</div>
	
<div class="page" id="five">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 5</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Do you have a runny or stuffy nose?</p>    
		<a href="#six"  onclick="coldfluallergyAdd();" class="w3-btn w3-black"> Yes</a>
        <a href="#six"  onclick="covidAdd();" class="w3-btn w3-black">No</a>

    </div>
</div>
<!-- Followed the steps above for question 6 !-->
<div class="page" id="six">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 6</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Do you have a sore throat? </p>    
		<a href="#seven"  onclick="coldAdd();" class="w3-btn w3-black"> Yes</a>
	<a href="#seven"  onclick="allergyflucovidAdd();" class="w3-btn w3-black">No</a>

    </div>
</div>	
<!-- Followed the steps above for question 7 !-->
<div class="page" id="seven">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 7</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Do you have a fever? If yes, is it persistent?</p>    
		<a href="#eight"  onclick="flucovidAdd();" class="w3-btn w3-black"> Yes, persistent</a>
        	<a href="#eight"  onclick="coldAdd();" class="w3-btn w3-black">Yes, not persistent</a>
	<a href="#eight"  onclick="allergyAdd();" class="w3-btn w3-black">No</a>

    </div>
</div>	
<!-- Followed the steps above for question 8 !-->
<!-- I had to come back and delete an answer choice from this question that drew on the allergycoldcovidAdd() function if clicked because it was a repetition of a previous answer choice. !-->
<div class="page" id="eight">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 8</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Do you feel tired or weak? If so is this fatigue persistent?</p>    
		<a href="#nine"  onclick="fluAdd();" class="w3-btn w3-black"> Yes, persistent</a>
	 <a href="#nine"  onclick="allergycoldcovidAdd();" class="w3-btn w3-black">No</a>

    </div>
</div>
<!-- Followed the steps above for question 9 !-->
<div class="page" id="nine">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 9</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Do you get headaches? If so, are they persistent?</p>    
		<a href="#ten"  onclick="fluAdd();" class="w3-btn w3-black"> Yes, persistent</a>
        	<a href="#ten"  onclick="allergycovidAdd();" class="w3-btn w3-black">Yes, not persistent</a>
	 <a href="#ten"  onclick="coldAdd();" class="w3-btn w3-black">No</a>

    </div>
</div>
<!-- Followed the steps above for question 10 !-->	
<div class="page" id="ten">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 10</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Are you experiencing body aches or pains? If yes, are they severe? </p>    
		<a href="#eleven"  onclick="coldfluAdd();" class="w3-btn w3-black"> Yes, severe</a>
        	<a href="#eleven"  onclick="covidAdd();" class="w3-btn w3-black">Yes, not too severe</a>
	<a href="#eleven"  onclick="allergyAdd();" class="w3-btn w3-black">No</a>
	   
    </div>
</div>
<!-- Followed the steps above for question 11 !-->
<!-- I committed these changes and went to check the website, and the results were not displaying propoerly, so I had to go back and fix the code for the results function.  !-->
<div class="page" id="eleven">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 11</h1>
	</div>
	
    <div id="content" class="w3-container">
		<p>Do you have diarrhea? If so, are you a child or an adult? </p>    
		<a href="#result"  onclick="covidAdd();" class="w3-btn w3-black"> Yes, adult</a>
       		<a href="#result"  onclick="fluAdd();" class="w3-btn w3-black">Yes, child</a>
	<a href="#result"  onclick="allergycoldAdd();" class="w3-btn w3-black">No</a>

    </div>
</div>
	
<div class="page" id="result">
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Results</h1>
	</div>
	
    <div id="content" class="w3-container">
    	<a onclick="setResults();" class="w3-btn w3-black">Find Results</a>
		<p id="results"></p>  
	
<!-- THIS IS MY PLAN FOR THE RESULTS PAGE:
I tried to display the results using a pie chart, however I could not get the code to work, and found it very difficult to link the results percentages to the chart.
After many failed attempts, I have decided to insert the code below to allow you to see my plan. This is code that I found on the 
internet, and I modified parts of it in attempts to get the pie chart to display. I believe that my problem is that I do not understand
which sections of the code the different aspects of the pie chart go to, and I cannot figure out how to draw upon previous functions to 
display the pie chart on the final page. As of right now, you can only see the results displayed as percentages on the results page. 
If all had worked out, there would have been a colorful pie chart that displayed the probability that the user had each of the diagnoses 
(Allergy, Cold, Flu, COVID-19)as a section on the chart. The titles of each section and their respective percentages would have also been displayed. 

anychart.onDocumentReady(function() {

  var data = [
      {x: "Allergies", value: allergyPercent},
      {x: "Cold", value: coldPercent},
      {x: "Flu", value: fluPercent},
      {x: "COVID-19", value: covidPercent},
  ];

  // create the chart
  var chart = anychart.pie();

  // set the chart title
  chart.title("Population by Race for the United States: 2010 Census");

  // add the data
  chart.data(data);

  // display the chart in the container
  chart.container('container');
  chart.draw();

}); !--> 

    </div>
</div>

<footer class="w3-bottom w3-container w3-flat-carrot">
	<p>DIY!</p>
</footer>

	   
   </body>
</html>
